{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/workspaces/anime_website/components/sidebar/search.js\";\nimport { useEffect, useState } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport cheerio from \"cheerio\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\n\nconst Search = () => {\n  const router = useRouter();\n  const {\n    0: val,\n    1: setVal\n  } = useState(\"\");\n  const {\n    0: content,\n    1: setContent\n  } = useState([]);\n  useEffect(() => {\n    var SearchBar = document.getElementById(\"search\");\n    var SearchInput = document.getElementById(\"searchinput\");\n    document.addEventListener(\"click\", function (event) {\n      var isClickInside = SearchBar.contains(event.target);\n\n      if (!isClickInside) {\n        SearchInput.style.maxWidth = 0;\n        SearchInput.style.marginLeft = 0;\n        setContent([]);\n        setVal(\"\");\n      }\n    });\n  }, []);\n\n  const handleSearch = async e => {\n    setVal(e.target.value);\n    let d = await axios.get(\"https://ajax.gogocdn.net/site/loadAjaxSearch?keyword=\" + val);\n    d = d.data.content.replaceAll(\"category/\", \"/details/\");\n    var myList = [];\n    var $ = cheerio.load(d);\n    $(\"a\").each(function (index, element) {\n      let result = {};\n      let title = $(this).text();\n      let link = $(this).attr().href;\n      let image = $(this).children(\"div\").attr().style.slice(15).replace(/[(\"\")]/g, \"\");\n      result = {\n        title,\n        link,\n        image\n      };\n      myList.push(result);\n    });\n    setContent(myList);\n  };\n\n  const handleClick = () => {\n    var SearchBar = document.getElementById(\"search\");\n    var SearchInput = document.getElementById(\"searchinput\");\n    SearchInput.focus();\n    SearchInput.style.maxWidth = \"800px\";\n    SearchInput.style.marginLeft = \"0.7rem\";\n    SearchBar.style.width = \"auto\";\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    router.push(`/search/${val}/1`);\n    setContent([]);\n    setVal(\"\");\n  };\n\n  const theme = useSelector(state => state.theme);\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"absolute cursor-pointer right-0\",\n    onSubmit: handleSubmit,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `${theme.button.background} ${theme.button.text} h-10 w-10  rounded-full flex  p-2.5 shadow-2xl relative right-0`,\n      id: \"search\",\n      onClick: handleClick,\n      children: [/*#__PURE__*/_jsxDEV(FaSearch, {\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: val,\n        autoComplete: \"off\",\n        onChange: handleSearch,\n        className: `${theme.button.background} ${theme.button.text} border-none outline-none max-w-0 ease-in-out transition-all duration-700`,\n        placeholder: \"Search for anime...\",\n        id: \"searchinput\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), content.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: ` autocomplete absolute left-0 px-1 py-0 top-11 shadow-2xl transition-all duration-200 rounded-xl ${theme.button.text} w-full ${theme.button.background}`,\n        children: content === null || content === void 0 ? void 0 : content.map((Item, index) => /*#__PURE__*/_jsxDEV(Link, {\n          href: Item.link,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex shadow-xl w-full justify-between cursor-pointer p-2 rounded-xl my-1 text-right ${theme.text.selected} ${theme.background}`,\n            onClick: () => setContent([]),\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rounded-full h-10 w-10 \",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: Item.image,\n                className: \"w-10 h-10 object-cover rounded-full\",\n                alt: Item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"w-3/4\",\n              children: Item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Search;","map":{"version":3,"sources":["/workspaces/anime_website/components/sidebar/search.js"],"names":["useEffect","useState","FaSearch","useSelector","axios","cheerio","Link","useRouter","Search","router","val","setVal","content","setContent","SearchBar","document","getElementById","SearchInput","addEventListener","event","isClickInside","contains","target","style","maxWidth","marginLeft","handleSearch","e","value","d","get","data","replaceAll","myList","$","load","each","index","element","result","title","text","link","attr","href","image","children","slice","replace","push","handleClick","focus","width","handleSubmit","preventDefault","theme","state","button","background","length","map","Item","selected"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { FaSearch } from \"react-icons/fa\";\nimport { useSelector } from \"react-redux\";\nimport axios from \"axios\";\nimport cheerio from \"cheerio\";\nimport Link from \"next/link\";\n\nimport { useRouter } from \"next/router\";\n\nconst Search = () => {\n  const router = useRouter();\n  const [val, setVal] = useState(\"\");\n  const [content, setContent] = useState([]);\n  useEffect(() => {\n    var SearchBar = document.getElementById(\"search\");\n    var SearchInput = document.getElementById(\"searchinput\");\n    document.addEventListener(\"click\", function (event) {\n      var isClickInside = SearchBar.contains(event.target);\n\n      if (!isClickInside) {\n        SearchInput.style.maxWidth = 0;\n        SearchInput.style.marginLeft = 0;\n        setContent([]);\n        setVal(\"\");\n      }\n    });\n  }, []);\n  const handleSearch = async (e) => {\n    setVal(e.target.value);\n    let d = await axios.get(\n      \"https://ajax.gogocdn.net/site/loadAjaxSearch?keyword=\" + val\n    );\n    d = d.data.content.replaceAll(\"category/\", \"/details/\");\n    var myList = [];\n    var $ = cheerio.load(d);\n    $(\"a\").each(function (index, element) {\n      let result = {};\n      let title = $(this).text();\n      let link = $(this).attr().href;\n      let image = $(this)\n        .children(\"div\")\n        .attr()\n        .style.slice(15)\n        .replace(/[(\"\")]/g, \"\");\n      result = { title, link, image };\n      myList.push(result);\n    });\n\n    setContent(myList);\n  };\n  const handleClick = () => {\n    var SearchBar = document.getElementById(\"search\");\n    var SearchInput = document.getElementById(\"searchinput\");\n    SearchInput.focus();\n    SearchInput.style.maxWidth = \"800px\";\n    SearchInput.style.marginLeft = \"0.7rem\";\n    SearchBar.style.width = \"auto\";\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    router.push(`/search/${val}/1`);\n    setContent([]);\n    setVal(\"\");\n  };\n  const theme = useSelector((state) => state.theme);\n  return (\n    <form className=\"absolute cursor-pointer right-0\" onSubmit={handleSubmit}>\n      <div\n        className={`${theme.button.background} ${theme.button.text} h-10 w-10  rounded-full flex  p-2.5 shadow-2xl relative right-0`}\n        id=\"search\"\n        onClick={handleClick}\n      >\n        <FaSearch size={20} />\n        <input\n          value={val}\n          autoComplete={\"off\"}\n          onChange={handleSearch}\n          className={`${theme.button.background} ${theme.button.text} border-none outline-none max-w-0 ease-in-out transition-all duration-700`}\n          placeholder=\"Search for anime...\"\n          id=\"searchinput\"\n        />\n        {content.length > 0 && (\n          <div\n            className={` autocomplete absolute left-0 px-1 py-0 top-11 shadow-2xl transition-all duration-200 rounded-xl ${theme.button.text} w-full ${theme.button.background}`}\n          >\n            {content?.map((Item, index) => (\n              <Link href={Item.link} key={index}>\n                <div\n                  className={`flex shadow-xl w-full justify-between cursor-pointer p-2 rounded-xl my-1 text-right ${theme.text.selected} ${theme.background}`}\n                  onClick={() => setContent([])}\n                >\n                  <div className=\"rounded-full h-10 w-10 \">\n                    <img\n                      src={Item.image}\n                      className=\"w-10 h-10 object-cover rounded-full\"\n                      alt={Item.title}\n                    />\n                  </div>\n                  <span className=\"w-3/4\">{Item.title}</span>\n                </div>\n              </Link>\n            ))}\n          </div>\n        )}\n      </div>\n    </form>\n  );\n};\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}